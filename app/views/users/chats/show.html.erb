<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-xs-12 ">
      <div class="card" style="width: 28rem;">
        <div class="mt-3 mb-2 ml-3">
          <h4 id="room" data-room="<%= @room.id %>" data-user="<%= current_user.id %>">
            <%= link_to user_path(@user) do %>
              <%= attachment_image_tag @user, :profile_image, :fill, 50, 50, format: 'jpeg', fallback: "no_image.jpg", class:"rounded-circle" %>
            <% end %>
            <%= @user.name %>
          </h4>
        </div>
      </div>
      <div class="card" style="width: 28rem;">
        <div class="mx-4 my-4">
          <div class="message" style="width: 400px;">
            <% @chats.each do |chat| %>
              <% if chat.user_id == current_user.id %>
                <p style="text-align: right;"><%= chat.message %></p>
              <% else %>
                <p style="text-align: left;">
                  <%= attachment_image_tag @user, :profile_image, :fill, 25, 25, format: 'jpeg', fallback: "no_image.jpg", class:"rounded-circle" %>
                  <%= chat.message %>
                </p>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
      <div class="card" style="width: 28rem;">
        <div class="mx-2 my-2">
          <%= form_with model: @chat, data: {remote: true} do |f| %>
            <%= f.text_field :message, size: "45x10" %>
            <%= f.hidden_field :room_id %>
            <%= f.submit "送信" ,class: "moe-btn" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>